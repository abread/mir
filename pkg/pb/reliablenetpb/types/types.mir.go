// Code generated by Mir codegen. DO NOT EDIT.

package reliablenetpbtypes

import (
	mirreflect "github.com/filecoin-project/mir/codegen/mirreflect"
	types2 "github.com/filecoin-project/mir/codegen/model/types"
	types "github.com/filecoin-project/mir/pkg/pb/messagepb/types"
	reliablenetpb "github.com/filecoin-project/mir/pkg/pb/reliablenetpb"
	rntypes "github.com/filecoin-project/mir/pkg/reliablenet/rntypes"
	types1 "github.com/filecoin-project/mir/pkg/types"
	reflectutil "github.com/filecoin-project/mir/pkg/util/reflectutil"
)

type Event struct {
	Type Event_Type
}

type Event_Type interface {
	mirreflect.GeneratedType
	isEvent_Type()
	Pb() reliablenetpb.Event_Type
}

type Event_TypeWrapper[T any] interface {
	Event_Type
	Unwrap() *T
}

func Event_TypeFromPb(pb reliablenetpb.Event_Type) Event_Type {
	if pb == nil {
		return nil
	}
	switch pb := pb.(type) {
	case *reliablenetpb.Event_SendMessage:
		return &Event_SendMessage{SendMessage: SendMessageFromPb(pb.SendMessage)}
	case *reliablenetpb.Event_Ack:
		return &Event_Ack{Ack: AckFromPb(pb.Ack)}
	case *reliablenetpb.Event_MarkRecvd:
		return &Event_MarkRecvd{MarkRecvd: MarkRecvdFromPb(pb.MarkRecvd)}
	case *reliablenetpb.Event_MarkModuleMsgsRecvd:
		return &Event_MarkModuleMsgsRecvd{MarkModuleMsgsRecvd: MarkModuleMsgsRecvdFromPb(pb.MarkModuleMsgsRecvd)}
	case *reliablenetpb.Event_RetransmitAll:
		return &Event_RetransmitAll{RetransmitAll: RetransmitAllFromPb(pb.RetransmitAll)}
	case *reliablenetpb.Event_ForceSendMessage:
		return &Event_ForceSendMessage{ForceSendMessage: ForceSendMessageFromPb(pb.ForceSendMessage)}
	}
	return nil
}

type Event_SendMessage struct {
	SendMessage *SendMessage
}

func (*Event_SendMessage) isEvent_Type() {}

func (w *Event_SendMessage) Unwrap() *SendMessage {
	return w.SendMessage
}

func (w *Event_SendMessage) Pb() reliablenetpb.Event_Type {
	if w == nil {
		return nil
	}
	if w.SendMessage == nil {
		return &reliablenetpb.Event_SendMessage{}
	}
	return &reliablenetpb.Event_SendMessage{SendMessage: (w.SendMessage).Pb()}
}

func (*Event_SendMessage) MirReflect() mirreflect.Type {
	return mirreflect.TypeImpl{PbType_: reflectutil.TypeOf[*reliablenetpb.Event_SendMessage]()}
}

type Event_Ack struct {
	Ack *Ack
}

func (*Event_Ack) isEvent_Type() {}

func (w *Event_Ack) Unwrap() *Ack {
	return w.Ack
}

func (w *Event_Ack) Pb() reliablenetpb.Event_Type {
	if w == nil {
		return nil
	}
	if w.Ack == nil {
		return &reliablenetpb.Event_Ack{}
	}
	return &reliablenetpb.Event_Ack{Ack: (w.Ack).Pb()}
}

func (*Event_Ack) MirReflect() mirreflect.Type {
	return mirreflect.TypeImpl{PbType_: reflectutil.TypeOf[*reliablenetpb.Event_Ack]()}
}

type Event_MarkRecvd struct {
	MarkRecvd *MarkRecvd
}

func (*Event_MarkRecvd) isEvent_Type() {}

func (w *Event_MarkRecvd) Unwrap() *MarkRecvd {
	return w.MarkRecvd
}

func (w *Event_MarkRecvd) Pb() reliablenetpb.Event_Type {
	if w == nil {
		return nil
	}
	if w.MarkRecvd == nil {
		return &reliablenetpb.Event_MarkRecvd{}
	}
	return &reliablenetpb.Event_MarkRecvd{MarkRecvd: (w.MarkRecvd).Pb()}
}

func (*Event_MarkRecvd) MirReflect() mirreflect.Type {
	return mirreflect.TypeImpl{PbType_: reflectutil.TypeOf[*reliablenetpb.Event_MarkRecvd]()}
}

type Event_MarkModuleMsgsRecvd struct {
	MarkModuleMsgsRecvd *MarkModuleMsgsRecvd
}

func (*Event_MarkModuleMsgsRecvd) isEvent_Type() {}

func (w *Event_MarkModuleMsgsRecvd) Unwrap() *MarkModuleMsgsRecvd {
	return w.MarkModuleMsgsRecvd
}

func (w *Event_MarkModuleMsgsRecvd) Pb() reliablenetpb.Event_Type {
	if w == nil {
		return nil
	}
	if w.MarkModuleMsgsRecvd == nil {
		return &reliablenetpb.Event_MarkModuleMsgsRecvd{}
	}
	return &reliablenetpb.Event_MarkModuleMsgsRecvd{MarkModuleMsgsRecvd: (w.MarkModuleMsgsRecvd).Pb()}
}

func (*Event_MarkModuleMsgsRecvd) MirReflect() mirreflect.Type {
	return mirreflect.TypeImpl{PbType_: reflectutil.TypeOf[*reliablenetpb.Event_MarkModuleMsgsRecvd]()}
}

type Event_RetransmitAll struct {
	RetransmitAll *RetransmitAll
}

func (*Event_RetransmitAll) isEvent_Type() {}

func (w *Event_RetransmitAll) Unwrap() *RetransmitAll {
	return w.RetransmitAll
}

func (w *Event_RetransmitAll) Pb() reliablenetpb.Event_Type {
	if w == nil {
		return nil
	}
	if w.RetransmitAll == nil {
		return &reliablenetpb.Event_RetransmitAll{}
	}
	return &reliablenetpb.Event_RetransmitAll{RetransmitAll: (w.RetransmitAll).Pb()}
}

func (*Event_RetransmitAll) MirReflect() mirreflect.Type {
	return mirreflect.TypeImpl{PbType_: reflectutil.TypeOf[*reliablenetpb.Event_RetransmitAll]()}
}

type Event_ForceSendMessage struct {
	ForceSendMessage *ForceSendMessage
}

func (*Event_ForceSendMessage) isEvent_Type() {}

func (w *Event_ForceSendMessage) Unwrap() *ForceSendMessage {
	return w.ForceSendMessage
}

func (w *Event_ForceSendMessage) Pb() reliablenetpb.Event_Type {
	if w == nil {
		return nil
	}
	if w.ForceSendMessage == nil {
		return &reliablenetpb.Event_ForceSendMessage{}
	}
	return &reliablenetpb.Event_ForceSendMessage{ForceSendMessage: (w.ForceSendMessage).Pb()}
}

func (*Event_ForceSendMessage) MirReflect() mirreflect.Type {
	return mirreflect.TypeImpl{PbType_: reflectutil.TypeOf[*reliablenetpb.Event_ForceSendMessage]()}
}

func EventFromPb(pb *reliablenetpb.Event) *Event {
	if pb == nil {
		return nil
	}
	return &Event{
		Type: Event_TypeFromPb(pb.Type),
	}
}

func (m *Event) Pb() *reliablenetpb.Event {
	if m == nil {
		return nil
	}
	pbMessage := &reliablenetpb.Event{}
	{
		if m.Type != nil {
			pbMessage.Type = (m.Type).Pb()
		}
	}

	return pbMessage
}

func (*Event) MirReflect() mirreflect.Type {
	return mirreflect.TypeImpl{PbType_: reflectutil.TypeOf[*reliablenetpb.Event]()}
}

type SendMessage struct {
	MsgId        rntypes.MsgID
	Msg          *types.Message
	Destinations []types1.NodeID
}

func SendMessageFromPb(pb *reliablenetpb.SendMessage) *SendMessage {
	if pb == nil {
		return nil
	}
	return &SendMessage{
		MsgId: (rntypes.MsgID)(pb.MsgId),
		Msg:   types.MessageFromPb(pb.Msg),
		Destinations: types2.ConvertSlice(pb.Destinations, func(t string) types1.NodeID {
			return (types1.NodeID)(t)
		}),
	}
}

func (m *SendMessage) Pb() *reliablenetpb.SendMessage {
	if m == nil {
		return nil
	}
	pbMessage := &reliablenetpb.SendMessage{}
	{
		pbMessage.MsgId = (string)(m.MsgId)
		if m.Msg != nil {
			pbMessage.Msg = (m.Msg).Pb()
		}
		pbMessage.Destinations = types2.ConvertSlice(m.Destinations, func(t types1.NodeID) string {
			return (string)(t)
		})
	}

	return pbMessage
}

func (*SendMessage) MirReflect() mirreflect.Type {
	return mirreflect.TypeImpl{PbType_: reflectutil.TypeOf[*reliablenetpb.SendMessage]()}
}

type Ack struct {
	DestModule types1.ModuleID
	MsgId      rntypes.MsgID
	Source     types1.NodeID
}

func AckFromPb(pb *reliablenetpb.Ack) *Ack {
	if pb == nil {
		return nil
	}
	return &Ack{
		DestModule: (types1.ModuleID)(pb.DestModule),
		MsgId:      (rntypes.MsgID)(pb.MsgId),
		Source:     (types1.NodeID)(pb.Source),
	}
}

func (m *Ack) Pb() *reliablenetpb.Ack {
	if m == nil {
		return nil
	}
	pbMessage := &reliablenetpb.Ack{}
	{
		pbMessage.DestModule = (string)(m.DestModule)
		pbMessage.MsgId = (string)(m.MsgId)
		pbMessage.Source = (string)(m.Source)
	}

	return pbMessage
}

func (*Ack) MirReflect() mirreflect.Type {
	return mirreflect.TypeImpl{PbType_: reflectutil.TypeOf[*reliablenetpb.Ack]()}
}

type MarkModuleMsgsRecvd struct {
	DestModule   types1.ModuleID
	Destinations []types1.NodeID
}

func MarkModuleMsgsRecvdFromPb(pb *reliablenetpb.MarkModuleMsgsRecvd) *MarkModuleMsgsRecvd {
	if pb == nil {
		return nil
	}
	return &MarkModuleMsgsRecvd{
		DestModule: (types1.ModuleID)(pb.DestModule),
		Destinations: types2.ConvertSlice(pb.Destinations, func(t string) types1.NodeID {
			return (types1.NodeID)(t)
		}),
	}
}

func (m *MarkModuleMsgsRecvd) Pb() *reliablenetpb.MarkModuleMsgsRecvd {
	if m == nil {
		return nil
	}
	pbMessage := &reliablenetpb.MarkModuleMsgsRecvd{}
	{
		pbMessage.DestModule = (string)(m.DestModule)
		pbMessage.Destinations = types2.ConvertSlice(m.Destinations, func(t types1.NodeID) string {
			return (string)(t)
		})
	}

	return pbMessage
}

func (*MarkModuleMsgsRecvd) MirReflect() mirreflect.Type {
	return mirreflect.TypeImpl{PbType_: reflectutil.TypeOf[*reliablenetpb.MarkModuleMsgsRecvd]()}
}

type MarkRecvd struct {
	DestModule   types1.ModuleID
	MsgId        rntypes.MsgID
	Destinations []types1.NodeID
}

func MarkRecvdFromPb(pb *reliablenetpb.MarkRecvd) *MarkRecvd {
	if pb == nil {
		return nil
	}
	return &MarkRecvd{
		DestModule: (types1.ModuleID)(pb.DestModule),
		MsgId:      (rntypes.MsgID)(pb.MsgId),
		Destinations: types2.ConvertSlice(pb.Destinations, func(t string) types1.NodeID {
			return (types1.NodeID)(t)
		}),
	}
}

func (m *MarkRecvd) Pb() *reliablenetpb.MarkRecvd {
	if m == nil {
		return nil
	}
	pbMessage := &reliablenetpb.MarkRecvd{}
	{
		pbMessage.DestModule = (string)(m.DestModule)
		pbMessage.MsgId = (string)(m.MsgId)
		pbMessage.Destinations = types2.ConvertSlice(m.Destinations, func(t types1.NodeID) string {
			return (string)(t)
		})
	}

	return pbMessage
}

func (*MarkRecvd) MirReflect() mirreflect.Type {
	return mirreflect.TypeImpl{PbType_: reflectutil.TypeOf[*reliablenetpb.MarkRecvd]()}
}

type RetransmitAll struct{}

func RetransmitAllFromPb(pb *reliablenetpb.RetransmitAll) *RetransmitAll {
	if pb == nil {
		return nil
	}
	return &RetransmitAll{}
}

func (m *RetransmitAll) Pb() *reliablenetpb.RetransmitAll {
	if m == nil {
		return nil
	}
	pbMessage := &reliablenetpb.RetransmitAll{}
	{
	}

	return pbMessage
}

func (*RetransmitAll) MirReflect() mirreflect.Type {
	return mirreflect.TypeImpl{PbType_: reflectutil.TypeOf[*reliablenetpb.RetransmitAll]()}
}

type ForceSendMessage struct {
	MsgId        rntypes.MsgID
	Msg          *types.Message
	Destinations []types1.NodeID
}

func ForceSendMessageFromPb(pb *reliablenetpb.ForceSendMessage) *ForceSendMessage {
	if pb == nil {
		return nil
	}
	return &ForceSendMessage{
		MsgId: (rntypes.MsgID)(pb.MsgId),
		Msg:   types.MessageFromPb(pb.Msg),
		Destinations: types2.ConvertSlice(pb.Destinations, func(t string) types1.NodeID {
			return (types1.NodeID)(t)
		}),
	}
}

func (m *ForceSendMessage) Pb() *reliablenetpb.ForceSendMessage {
	if m == nil {
		return nil
	}
	pbMessage := &reliablenetpb.ForceSendMessage{}
	{
		pbMessage.MsgId = (string)(m.MsgId)
		if m.Msg != nil {
			pbMessage.Msg = (m.Msg).Pb()
		}
		pbMessage.Destinations = types2.ConvertSlice(m.Destinations, func(t types1.NodeID) string {
			return (string)(t)
		})
	}

	return pbMessage
}

func (*ForceSendMessage) MirReflect() mirreflect.Type {
	return mirreflect.TypeImpl{PbType_: reflectutil.TypeOf[*reliablenetpb.ForceSendMessage]()}
}
